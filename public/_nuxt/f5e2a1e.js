(window.webpackJsonp=window.webpackJsonp||[]).push([[19,6,7,10,11],{533:function(t,e,r){"use strict";r.r(e);var o={props:{value:Boolean},watch:{$props:{deep:!0,handler:function(t){this.props=JSON.parse(JSON.stringify(t))}}},data:function(){return{props:JSON.parse(JSON.stringify(this.$props))}},methods:{emitValue:function(){this.$emit("value",this.props.value),this.$emit("input",this.props.value),this.$emit("change",this.props.value)}}},n=r(10),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("transition",{attrs:{name:"custom-unique-name","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"}},[t.props.value?r("div",{staticClass:"modal show",staticStyle:{display:"block",background:"#00000044","animation-duration":"200ms"},attrs:{tabindex:"-1"},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.props.value=!1,t.emitValue()}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[t._t("header"),t._v(" "),r("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:function(e){t.props.value=!1,t.emitValue()}}})],2),t._v(" "),r("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),r("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])]):t._e()])],1)}),[],!1,null,null,null);e.default=component.exports},536:function(t,e,r){"use strict";r.r(e);var o={props:{value:Object,method:{default:"get"},action:{default:""},validator:Object,successMessage:{default:""}},data:function(){return{loading:!1,validate:this.$validator(this.validator)}},methods:{submit:function(){var t=this;this.loading=!0,("post"==this.method?this.$axios.post(this.action,this.value):this.$axios.get(this.action,{params:this.value})).then((function(e){t.loading=!1,t.$emit("success",e.data),t.successMessage&&t.$swal.fire("",t.successMessage,"success")})).catch((function(e){t.loading=!1,t.validate.setError(e.response.data.fields)}))}}},n=r(10),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{attrs:{method:t.method,action:t.action},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._t("default",null,{method:t.method,action:t.action,loading:t.loading,submit:t.submit,validator:t.validate})],2)}),[],!1,null,null,null);e.default=component.exports},542:function(t,e,r){"use strict";r.r(e);r(46),r(45),r(145);var o={props:{value:{default:""},height:{default:"150px"},preview:{default:!0}},watch:{$props:{deep:!0,handler:function(t){this.props=JSON.parse(JSON.stringify(t))}}},methods:{emitValue:function(){this.$emit("value",this.props.value),this.$emit("input",this.props.value),this.$emit("change",this.props.value)},browser:function(){var t=this;Object.assign(document.createElement("input"),{type:"file",onchange:function(e){t.upload(e.target.files[0])}}).click()},dropFile:function(t){this.upload(t.dataTransfer.files[0])},upload:function(t){var e=this,data=new FormData;data.append("file",t,t.name),this.$axios.post("/api/files/upload",data,{onUploadProgress:function(t){e.progress=Math.round(100*t.loaded/t.total)}}).then((function(t){e.progress=0,e.props.value=t.data.url,e.emitValue()}))}},computed:{compValue:function(){if(this.props.value){var t={url:this.props.value};return t.ext=t.url.split(".").pop().toLowerCase(),t.type=!1,["jpg","jpeg","png","bmp","gif","webp","svg"].indexOf(t.ext)>=0&&(t.type="image"),["mp3","ogg"].indexOf(t.ext)>=0&&(t.type="audio"),t}return!1}},data:function(){return{props:JSON.parse(JSON.stringify(this.$props)),progress:0,file:!1,modal:!1}}},n=r(10),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{drop:function(e){return e.preventDefault(),t.dropFile.apply(null,arguments)},dragover:function(t){t.preventDefault()}}},[r("div",{staticClass:"input-group"},[r("div",{staticClass:"input-group-btn"},[r("button",{staticClass:"btn rounded-0",attrs:{type:"button"},on:{click:function(e){return t.browser()}}},[r("i",{staticClass:"fas fa-upload"})])]),t._v(" "),r("div",{staticClass:"input-group-btn"},[r("button",{staticClass:"btn rounded-0",attrs:{type:"button"},on:{click:function(e){t.modal=!0}}},[r("i",{staticClass:"fas fa-link"})])]),t._v(" "),r("div",{staticClass:"form-control",staticStyle:{overflow:"hidden"}},[t._v(t._s(t.props.value||"Sem arquivo"))])]),t._v(" "),t.progress?r("div",{staticClass:"progress",staticStyle:{height:"5px"}},[r("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:"width: "+t.progress+"%",attrs:{role:"progressbar","aria-valuenow":t.progress,"aria-valuemin":"0","aria-valuemax":"100"}})]):t._e(),t._v(" "),t.preview?r("div",{staticClass:"mt-2",style:"height:"+t.height+"; background:#f5f5f5; border:dashed 3px #ccc; display:flex; align-items:center; justify-content:center; cursor:pointer;",on:{click:function(e){return t.browser()}}},[t.compValue?t._e():r("div",[r("small",{staticClass:"d-block text-muted"},[t._v("Soltar arquivo")])]),t._v(" "),t.compValue?r("div",["image"==t.compValue.type?r("div",[r("img",{style:"margin:0 auto; max-height:calc("+t.height+" - 20px);",attrs:{src:t.compValue.url,alt:""}})]):r("div",[t._v("\n                "+t._s(t.compValue.type)+"\n            ")])]):t._e()]):t._e(),t._v(" "),r("ui-modal",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("header")]},proxy:!0},{key:"body",fn:function(){return[r("ui-field",{attrs:{label:"URL"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.props.value,expression:"props.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.props.value},on:{input:function(e){e.target.composing||t.$set(t.props,"value",e.target.value)}}})])]},proxy:!0},{key:"footer",fn:function(){return[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.modal=!1,t.emitValue()}}},[t._v("\n                Ok\n            ")])]},proxy:!0}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}}),t._v(" "),t.compValue?r("div",{staticClass:"text-end"},[r("a",{staticClass:"ms-2",attrs:{href:"javascript:;"},on:{click:function(e){t.props.value=""}}},[t._v("Apagar")]),t._v(" "),r("a",{staticClass:"ms-2",attrs:{href:t.compValue.url,target:"_blank"}},[t._v("Abrir nova aba")]),t._v(" "),r("a",{staticClass:"ms-2",attrs:{href:t.compValue.url,download:t.compValue.url}},[t._v("Download")])]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UiField:r(202).default,UiModal:r(533).default})},544:function(t,e,r){"use strict";var o=r(15),n=r(5),l=r(146),c=r(23),d=r(17),f=r(204),m=r(104),v=r(289),h=r(6),_=r(73).f,y=r(47).f,x=r(18).f,C=r(545),N=r(546).trim,w="Number",$=n.Number,O=$.prototype,S=function(t){var e=v(t,"number");return"bigint"==typeof e?e:k(e)},k=function(t){var e,r,o,n,l,c,d,code,f=v(t,"number");if(m(f))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(43===(e=(f=N(f)).charCodeAt(0))||45===e){if(88===(r=f.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+f}for(c=(l=f.slice(2)).length,d=0;d<c;d++)if((code=l.charCodeAt(d))<48||code>n)return NaN;return parseInt(l,o)}return+f};if(l(w,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var I,E=function(t){var e=arguments.length<1?0:$(S(t)),r=this;return r instanceof E&&h((function(){C(r)}))?f(Object(e),r,E):e},V=o?_($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;V.length>j;j++)d($,I=V[j])&&!d(E,I)&&x(E,I,y($,I));E.prototype=O,O.constructor=E,c(n,w,E)}},545:function(t,e){var r=1..valueOf;t.exports=function(t){return r.call(t)}},546:function(t,e,r){var o=r(35),n=r(19),l="["+r(547)+"]",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),f=function(t){return function(e){var r=n(o(e));return 1&t&&(r=r.replace(c,"")),2&t&&(r=r.replace(d,"")),r}};t.exports={start:f(1),end:f(2),trim:f(3)}},547:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},549:function(t,e,r){"use strict";r.r(e);var o=r(29),n=(r(544),{props:{user:[Number,String,Object]},watch:{$props:{deep:!0,handler:function(t){this.props=JSON.parse(JSON.stringify(t))}}},data:function(){return{props:JSON.parse(JSON.stringify(this.$props))}},methods:{getUser:function(){var t=this;"object"!=Object(o.a)(this.props.user)&&this.$axios.get("/api/users/find/".concat(this.props.user)).then((function(e){t.props.user=e.data}))}},mounted:function(){this.getUser()}}),l=r(10),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white shadow rounded"},[t.props.user?r("div",{staticClass:"text-center py-4"},[t.props.user.photo?r("img",{staticStyle:{width:"100px",height:"100px","border-radius":"50%","object-fit":"cover"},attrs:{src:t.props.user.photo,alt:""}}):t._e(),t._v(" "),r("div",{staticClass:"fw-bold mt-4 text-uppercase"},[t._v(t._s(t.props.user.name))])]):t._e()])}),[],!1,null,null,null);e.default=component.exports},562:function(t,e,r){"use strict";r.r(e);var o={middleware:"auth",layout:"admin",data:function(){return{userId:this.$route.params.id||!1,post:{}}},methods:{userLoad:function(){var t=this;parseInt(this.userId)&&this.$axios.get("/api/users/find/".concat(this.userId)).then((function(e){t.post=e.data}))}},mounted:function(){"me"==this.userId&&(this.userId=this.$store.state.auth.user.id),this.userLoad()}},n=r(10),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ui-form",{attrs:{method:"post",action:"/api/users/save","success-message":"Usuário salvo"},on:{success:function(e){t.$router.push("/admin/users/"+e.id),t.post=e}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validator,n=e.loading;e.submit;return[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-4"},[r("ui-user-card",{attrs:{user:t.post}}),t._v(" "),r("div",{staticClass:"mt-2"}),t._v(" "),r("ui-upload",{attrs:{preview:!1},model:{value:t.post.photo,callback:function(e){t.$set(t.post,"photo",e)},expression:"post.photo"}})],1),t._v(" "),r("div",{staticClass:"col-12 col-md-8"},[r("ui-field",{attrs:{label:"Nome",error:o.error.name}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.post.name,expression:"post.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.post.name},on:{input:function(e){e.target.composing||t.$set(t.post,"name",e.target.value)}}})]),t._v(" "),r("ui-field",{attrs:{label:"E-mail",error:o.error.email}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.post.email,expression:"post.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.post.email},on:{input:function(e){e.target.composing||t.$set(t.post,"email",e.target.value)}}})])],1)]),t._v(" "),r("div",{staticClass:"text-end"},[r("nuxt-link",{staticClass:"btn",attrs:{to:"/admin/users"}},[t._v("Voltar")]),t._v(" "),r("button",{directives:[{name:"loading",rawName:"v-loading",value:n,expression:"loading"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                Salvar\n            ")])],1)]}}]),model:{value:t.post,callback:function(e){t.post=e},expression:"post"}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UiUserCard:r(549).default,UiUpload:r(542).default,UiField:r(202).default,UiForm:r(536).default})}}]);